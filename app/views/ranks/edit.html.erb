<h2 class="current-page">
     Grades/Reports > Edit Grade's Definition 
</h2>

<div class="container">
	<h4>There are some errors in the form, please fill the details.</h4>
	<ol>
		  <li><label for="rank[from][]" class="error">Please enter the number and it should be minimum value of 0</label></li> 
	    <li><label for="rank[to][]" class="error">Please enter the number and it should be maximum value of 100</label></li>
	</ol>
</div>

<span class="subText">
      These changes affect only the future reports
</span><br/><br/><br/>

<fieldset>

     <%= form_for(@report, :id => "rank", :action => url(:ranks_update), :class => "cmxform" ) do %>
     
     <ul id="ranking">
          <% @ranks.each do |f| %>
                         
                 <li>
                      <%= text_field  :name => "rank[name][]", :class => "short", :value => "#{f.name}" %>
                      <%= text_field  :name => "rank[from][]", :class => "short apart number",   :min => "0", :value => "#{f.from}" %> 
                      <%= text_field  :name => "rank[to][]", :class => "short apart number",  :max => "100", :value => "#{f.to}" %>
                      <%= link_to "", url(:delete_rank, f.id), :class => "delete-btn" %>
                 </li>
                 
          <% end %>
      </ul>
      
         <a href="#"  class="add-more"  onClick="testing(); return false;">Add More</a>
         
         <div class="save-cancel">
             <%= submit "save" %> Or  <%= link_to "Cancel", resource(:reports), :class => "cancel" %>
         </div>
     
     <% end =%>

</fieldset>

<script type= "text/javascript">

  id = 1;
   function testing()
   {
        var ul = document.getElementById('ranking');
        $j(ul).append("<li id='row" + id + "'><input type='text' class='short text' name='rank[name][]' id='txt" + id + "'><input type='text' class='short apart text number' min='0' name='rank[from][]' id='txt" + id + "'><input type='text' class='short apart text number' max='100' name='rank[to][]' id='txt" + id + "'><a href='#' class='delete-btn' onClick='removeFormField(\"#row" + id + "\"); return false;'></a></li>");
        id = (id - 1) + 2;
   } 
    
  function removeFormField(id) 
  {
     $j(id).remove();
   }
   
   
   // Validation for Editing Grades Definitions

   var container = $j('div.container');

   // validate the form when it is submitted
   var validator = $j("#rank").validate({
   	errorContainer: container,
   	errorLabelContainer: $("ol", container),
   	wrapper: 'li',
   	meta: "validate"
   });
   
       
</script>