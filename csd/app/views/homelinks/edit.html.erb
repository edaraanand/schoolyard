<div class='formcontainer'>

    <%= form_for :homelink, :action => url(:update) do %>
         
          <table id='ExternalLinks'>
       
             <% @homelinks.each do |f| %>

    <tr>
      <td> <%= text_field :id => 'homelink_title', :name => 'homelink[title][]', :value => "#{f.title}" %></td>
      <td> <%= text_field :id => 'homelink_link', :name => 'homelink[link][]', :value => "#{f.link}" %></td>
      <td> <td><%= link_to "Delete", url(:delete_homelink, f.id) %></td>
     </tr>
                    
            <% end %>

                  <tr>
                      <%= link_to_function 'Add', "add();" %>
                      <%= submit "Publish" %> </br> Or <%= link_to "Cancel", url(:homelinks) %>
                  </tr>
	  
           </table>   
    
      <% end =%>

</div>


<script type= "text/javascript">
 
  function add()
   {
 
     var external = document.getElementById('ExternalLinks');

     var tr = document.createElement('tr');
         var td1 = document.createElement('td');  

         td1.innerHTML = "<input type='text' id='homelink_title' name='homelink[title][]'/>";

           var td2 = document.createElement('td');  

         td2.innerHTML = "<input type='text' id='homelink_link' name='homelink[link][]'/>";
         
        
         tr.appendChild(td1);
         tr.appendChild(td2);
        external.appendChild(tr);
 
 }

</script>

